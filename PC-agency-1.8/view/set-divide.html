<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>分成设置</title>
    <link rel="stylesheet" href="../css/common.css" />
    <link rel="stylesheet" href="../css/index.css" />
    <link rel="stylesheet" type="text/css" href="../css/set.css">
</head>
<body style="min-width: 1280px;">
<!--父容器开始-->
<div class="outer_div">
    <div class="left_template"></div>
    <div class="right_template"></div>
    <div class=" page-set">
        <div class="user-main">
            <h2>分成设置</h2>
            <a href="javascript:;" class="addDivide fr blue-btn">新增</a>
            <!--表格模块开始-->
            <div class="table-wrap">
                <div class="table-head">
                    <div class="table-head-wrap">
                        <table class="grid">
                            <thead>
                                <colgroup>
                                    <col style="width:10%">
                                    <col style="width:10%">
                                    <col style="width:10%">
                                    <col style="width:10%">
                                    <col style="width:10%">
                                    <col style="width:20%">
                                    <col style="width:10%">
                                    <col style="width:20%">
                                </colgroup>
                                <tr>
                                    <th>角色</th>
                                    <th>认证费</th>
                                    <th>培训师提成</th>
                                    <th>上级代理商提成</th>
                                    <th>终极代理商提成</th>
                                    <th>开始执行时间</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
                <div class="table-content table-content1">
                    <table class="grid">
                        <colgroup>
                            <col style="width:10%">
                            <col style="width:10%">
                            <col style="width:10%">
                            <col style="width:10%">
                            <col style="width:10%">
                            <col style="width:20%">
                            <col style="width:10%">
                            <col style="width:20%">
                        </colgroup>
                        <tbody class="table_ctbody">
                            <tr>
                                <td>认证会员</td>
                                <td>999.00</td>
                                <td>999.00</td>
                                <td>999.00</td>
                                <td>999.00</td>
                                <td>2017-11-06 10:45</td>
                                <td class="gray">已失效</td>
                                <td class="gray">已停止</td>
                            </tr>
                            <tr>
                                <td>认证会员</td>
                                <td>999.00</td>
                                <td>999.00</td>
                                <td>999.00</td>
                                <td>999.00</td>
                                <td>2017-11-06 10:45</td>
                                <td>执行中</td>
                                <td>
                                    <a href="javascript:;" class="stopBtn">停止</a>
                                </td>
                            </tr>
                            <tr>
                                <td>认证会员</td>
                                <td>999.00</td>
                                <td>999.00</td>
                                <td>999.00</td>
                                <td>999.00</td>
                                <td>2017-11-06 10:45</td>
                                <td>未执行</td>
                                <td>
                                    <a href="javascript:;" class="removeBtn">删除</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!--表格模块结束-->
            <!--分页器开始-->
            <div class="xiansuo_Page_Div">
                <!--<div class="xiansuo_Page_border"></div>-->
                <div class="xiansuo_Page_div">
                    <div class="fl">
                        <span style="margin-right: 5px;">每页显示</span>
                        <select class="xiansuo_Page_Three">
                            <option value="10">10</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                        <span style="margin-left: 5px;">条</span><span style="margin-left: 10px;">共</span><span class="xiansuo_Sizes">1500</span><span>条/</span><span class="xiansuo_Pages">50页</span>
                        <img class="first_page" title="第一页" src="../Images/icon_sanjiao_01.png" alt="" />
                        <img class="prev_page" title="上一页" src="../Images/icon_sanjiao_02.png" alt="" />
                    </div>
                    <ul class="xiansuo_Page_list">
                        <li class="active">1</li>
                        <li>2</li>
                        <li>3</li>
                        <li>4</li>
                        <li>5</li>
                    </ul>
                    <img class="next_page" title="下一页" style="margin-left: 15px;" src="../Images/icon_sanjiao_03.png" alt="" />
                    <img class="last_page" title="最后一页" src="../Images/icon_sanjiao_04.png" alt="" />
                    <span style="margin: 0 5px;">跳转</span><input type="text" value="0" class="that_Page" maxlength="10" /><span style="margin-left: 5px;">页</span>
                </div>
            </div>
            <!--分页器结束-->
        </div>
        <!-- 模拟弹窗开始 -->
        <!-- 背景 -->
        <div class="moni-box" style="display: none;"></div>
        <!-- 新增费用 -->
        <div class="add-divide moni-lbox" style="display: none;">
            <div class="moni-head">
                <p class="fl">费用设置</p>
                <em class="DataCenterBox-cols cleanAll fr">&#215;</em>
            </div>
            <form class="moni-main">
                <label class="long-text">认证费用年费</label><i>：</i>
                <input type="text" name="annualFee"><br />
                <label class="long-text">培训师提成</label><i>：</i>
                <input type="text" name="trainerFee"><br />
                <label class="long-text">上级代理提成</label><i>：</i>
                <input type="text" name="parentFee"><br />
                <label class="long-text">一级代理提成</label><i>：</i>
                <input type="text" name="firstFee"><br />
                <label class="long-text">终极代理提成</label><i>：</i>
                <input type="text" name="bossFee"><br />
                <label class="long-text">开始执行时间</label><i>：</i>
                <div class="laydate-div">
                    <input type="text" name="beginTime" class="input_cell_sm1 date_icon_1" id="expiration_time1"/>
                </div>
                <div class="btn-box btn-box">
                    <input type="button" name="submit" value="确认" class="submit blue-btn" id="addDivideSub">
                    <input type="button" name="cancel" value="取消" class="cancel white-btn">
                </div>
            </form>
        </div>
        <!-- 停止按钮 -->
        <div class="stop-box moni-lbox" style="display: none;"> 
            <p>确认停止？</p>
            <div class="btn-box">
                <input type="button" value="确认" name="remove" class="stopSubmit blue-btn">
                <input type="button" value="取消" name="cancel" class="cancel white-btn">
            </div>
        </div>
        <!-- 删除按钮 -->
        <div class="remove-box moni-lbox" style="display: none;">
            <p>确认删除？</p>
            <div class="btn-box">
                <input type="button" value="确认" name="remove" class="removeSubmit blue-btn">
                <input type="button" value="取消" name="cancel" class="cancel white-btn">
            </div>
        </div>
        <!-- 模拟弹窗结束 -->
    </div>
</div>
<!--父容器结束-->
<script>var pages = "系统设置";var index1 = 4; var index2 = 4;</script>
<script src="../js/jquery.js"></script>
<script src="../js/common.js"></script>
<script src="../js/laydate/laydate.js"></script>
<script src="../js/set.js"></script>
<script>
    //提交到后台

    //时间选择插件
    $(function(){
        laydate.render({//发布时间
            elem: '#expiration_time1', //指定元素
            type: 'datetime'
        });
    })
    //新增费用
    $(document).on("click","#addDivideSub",function(){
        var annualFee = $("input[name=annualFee]").val(),
        trainerFee = $("input[name=trainerFee]").val(),
        parentFee = $("input[name=parentFee]").val(),
        firstFee = $("input[name=fitstFee]").val(),
        bossFee = $("input[name=bossFee]").val(),
        beginTime = $("input[name=beginTime]").val();
        if (annualFee == "" || trainerFee == "" || parentFee == "" || bossFee == "" || beginTime == "") {
            alert("选项不能为空");
        }
        console.log(annualFee,trainerFee,parentFee,bossFee,beginTime);//ajax提交数据
    })
    // 删除按钮
    $(document).on("click",".removeBtn",function(){
        $(this).parents("tr").addClass("remove");
        var trId = $(this).parents("tr").attr("name");//取得删除那一行的name值
        $(".remove-box,.moni-box").fadeIn();
        $(document).on("click",".removeSubmit",function(){
            $(".remove").remove(); 
            $(".remove-box,.moni-box").fadeOut();
            console.log(trId);//发起ajax
        })
    })

    // 停止按钮
    $(document).on("click",".stopBtn",function(){
        $(this).addClass("stop");
        var trId = $(this).parents("tr").attr("name");//取得删除那一行的name值
        $(".stop-box,.moni-box").fadeIn();
        $(document).on("click",".stopSubmit",function(){
            console.log($(".stop").html());
            $(".stop").parent().prev().replaceWith("<td class='gray'>已失效</td>");
            $(".stop").replaceWith("<p class='gray'>已停止</p>");
            console.log($(".stop").parent().prev().html());
            $(".stop-box,.moni-box").fadeOut();
            console.log(trId);//发起ajax
        })
    })

</script>
</body>
</html>