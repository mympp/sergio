!function(s,i){var t=s.EasySlide,e=t.utils,r=function(s){this.curIndex=0,this.width=s.width,this.height=s.height,this.init(s)};r.STATIC={slideCls:"EasySlide-subppt-slide",imgWrapCls:"EasySlide-subppt-imgWrap"},r.prototype={init:function(i){this.wrapDiv=e.$(i.wrapDiv),this.imgs=i.imgs,this.slidesLen=this.imgs.length,this.initSlides(this.wrapDiv),e.bind(s,"resize",this.resize.bind(this)),this.showCurSlide()},resize:function(){this.initSlides(this.wrapDiv);var s=this.floorvW.bind(this),i=e.getByClsName(r.STATIC.slideCls,this.wrapDiv);i.forEach(function(i){i.style.width=s(.6)+"px"}),this.showCurSlide()},setPos:function(s,i,t,e){i=i||0,t=t||0;var r="translate3d("+i+"px,"+t+"px,0)";e&&(r+=" scale3d("+e+","+e+",1)"),s.style["-webkit-transform"]=r},createSlide:function(s){var t=i.createElement("div");return t.className=r.STATIC.slideCls,e.attr(t,"subindex",s),t.style.width=this.floorvW(.6)+"px",t.innerHTML="<div class='"+r.STATIC.imgWrapCls+"'><img src='"+this.imgs[s]+"' /></div></div>",this.wrapDiv.appendChild(t),t},floorvW:function(s){return Math.floor(this.vW*s)},showCurSlide:function(){function s(){var s=h.createSlide(h.curIndex);h.setPos.apply(h,[s].concat(d))}function i(){var s=h.createSlide(h.curIndex<x?I:0);h.setPos.apply(h,[s].concat(u))}function t(){var s;s=h.createSlide(h.curIndex<f?C:h.curIndex===f?0:1),h.setPos.apply(h,[s].concat(o))}function a(){var s=h.createSlide(h.curIndex>0?S:x);h.setPos.apply(h,[s].concat(l))}function n(){var s;s=h.createSlide(h.curIndex>1?w:1===h.curIndex?x:f),h.setPos.apply(h,[s].concat(v))}var h=this,c=h.floorvW.bind(this),d=[c(.2)],u=[c(.9),c(.05),.8],o=[h.vW+150,c(.1),.7],l=[-c(.38),c(.05),.8],v=[-h.vW-150,c(.1),.7],p=e.getByClsName(r.STATIC.slideCls,this.wrapDiv),x=this.slidesLen-1,f=this.slidesLen-2,I=this.curIndex+1,C=this.curIndex+2,S=this.curIndex-1,w=this.curIndex-2,P={hasCur:!1,hasPrev1:!1,hasPrev2:!1,hasNext1:!1,hasNext2:!1};p.forEach(function(s){function i(i){var t=[];for(var e in i)if(i[e]===!0){switch(e){case"hasCur":t=[s].concat(d);break;case"hasNext1":t=[s].concat(u);break;case"hasNext2":t=[s].concat(o);break;case"hasPrev1":t=[s].concat(l);break;case"hasPrev2":t=[s].concat(v)}break}h.setPos.apply(h,t)}var t=parseInt(e.attr(s,"subindex"),10),r=t===this.curIndex,a=t===I,n=this.curIndex===x&&0===t,c=t===C,p=this.curIndex===x&&1===t||this.curIndex===f&&0===t,b=t===S,y=0===this.curIndex&&t===x,m=t===w,g=0===this.curIndex&&t===f||1===this.curIndex&&t===x,N=r,T=a||n,D=c||p,W=b||y,k=m||g;i({hasCur:r,hasNext1:T,hasNext2:D,hasPrev1:W,hasPrev2:k}),P.hasCur=P.hasCur?P.hasCur:N,P.hasNext1=P.hasNext1?P.hasNext1:T,P.hasNext2=P.hasNext2?P.hasNext2:D,P.hasPrev1=P.hasPrev1?P.hasPrev1:W,P.hasPrev2=P.hasPrev2?P.hasPrev2:k}.bind(this));var b={hasCur:s,hasNext1:i,hasNext2:t,hasPrev1:a,hasPrev2:n};for(var y in P)P.hasOwnProperty(y)&&!P[y]&&b[y]()},move:function(s){for(var i=e.getByClsName(r.STATIC.slideCls,this.wrapDiv),t=0,a=i.length;a>t;t++){var n=parseInt(e.attr(i[t],"subindex"),10),h=1===s?this.curIndex-n:n-this.curIndex;if(h=h>0?h:h+this.slidesLen,2===h){e.remove(i[t]);break}}1===s?(this.curIndex++,this.curIndex>=this.slidesLen&&(this.curIndex=0)):(this.curIndex--,this.curIndex<0&&(this.curIndex=this.slidesLen-1)),this.showCurSlide()}},r.prototype.initSlides=t.prototype.initSlides,t.prototype.initSubPPT=function(s){function i(s,i){r.subppt[s]=new t.Subppt({width:r.vW,height:r.vH,wrapDiv:i.wrapDiv,imgs:i.imgs}),r.subpptNum.push(i.parentNum)}var r=this;s.forEach(function(s,r){var a=e.$(s.wrapDiv);if(a=e.contain(a,t.STATIC.flayerCls)){var n=e.$(e.attr(a,t.STATIC.flayerTriggerCls));e.bind(n,"click",function(){i(r,s)})}else i(r,s)})},t.Subppt=r}(window,document);